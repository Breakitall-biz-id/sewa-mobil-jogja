---
/**
 * Blog Related Posts Component
 * Grid of related articles at the bottom of blog posts
 */
interface RelatedPost {
    slug: string
    title: string
    excerpt: string
    image: string
    category: string
    date: string
}

interface Props {
    posts: RelatedPost[]
    title?: string
}

const { posts, title = "Artikel Terkait" } = Astro.props
---

<section class="bg-slate-50 dark:bg-[#1f2937] py-16 border-t border-slate-200 dark:border-slate-700">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="flex justify-between items-end mb-8">
            <h2 class="text-2xl font-bold text-slate-900 dark:text-white">{title}</h2>
            <a 
                href="/blog"
                class="text-primary hover:text-primary/80 font-semibold text-sm flex items-center gap-1"
            >
                Lihat Semua Blog 
                <span class="material-symbols-outlined text-lg">arrow_forward</span>
            </a>
        </div>
        
        <!-- Posts Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {posts.map((post) => (
                <article class="group bg-white dark:bg-[#14181e] rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all border border-slate-100 dark:border-slate-800">
                    <a href={`/blog/${post.slug}`} class="block" aria-label={`Baca selengkapnya tentang ${post.title}`}>
                        <!-- Image -->
                        <div class="aspect-[16/9] overflow-hidden relative">
                            <img 
                                src={post.image} 
                                alt={post.title}
                                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                                loading="lazy"
                            />
                            <div class="absolute top-3 left-3 bg-white/90 dark:bg-black/60 backdrop-blur text-xs font-bold px-3 py-1 rounded-full text-slate-900 dark:text-white">
                                {post.category}
                            </div>
                        </div>
                        
                        <!-- Content -->
                        <div class="p-5">
                            <div class="text-xs text-slate-500 mb-2">{post.date}</div>
                            <h3 class="font-bold text-lg text-slate-900 dark:text-white mb-2 leading-snug group-hover:text-primary transition-colors">
                                {post.title}
                            </h3>
                            <p class="text-sm text-slate-500 dark:text-slate-400 line-clamp-2">
                                {post.excerpt}
                            </p>
                        </div>
                    </a>
                </article>
            ))}
        </div>
    </div>
</section>
