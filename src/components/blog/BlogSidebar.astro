---
/**
 * Blog Sidebar Component
 * Contains Categories, CTA Banner, and Popular Tags
 */
interface Category {
    slug: string;
    name: string;
    count: number;
}

interface Props {
    categories?: Category[];
    tags?: string[];
}

const {
    categories = [
        { slug: "wisata-jogja", name: "Wisata Jogja", count: 12 },
        { slug: "kuliner", name: "Kuliner", count: 8 },
        { slug: "tips-rental", name: "Tips Rental", count: 5 },
        { slug: "event", name: "Event", count: 3 },
        { slug: "otomotif", name: "Otomotif", count: 4 },
    ],
    tags = ["#Malioboro", "#Pantai", "#Keluarga", "#Murah", "#LepasKunci"],
} = Astro.props;
---

<aside class="lg:col-span-3 space-y-8">
    <!-- Categories -->
    <div
        class="bg-white dark:bg-[#1f2937] p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700"
    >
        <h4
            class="font-bold text-lg text-slate-900 dark:text-white mb-4 border-b border-slate-100 dark:border-slate-700 pb-2"
        >
            Kategori
        </h4>
        <ul class="space-y-2">
            {
                categories.map((category) => (
                    <li>
                        <a
                            href={`/blog/kategori/${category.slug}`}
                            class="flex items-center justify-between text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-white group py-1"
                        >
                            <span class="group-hover:translate-x-1 transition-transform">
                                {category.name}
                            </span>
                            <span class="text-xs bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full text-slate-500">
                                {category.count}
                            </span>
                        </a>
                    </li>
                ))
            }
        </ul>
    </div>

    <!-- CTA Banner -->
    <div
        class="bg-primary rounded-xl shadow-lg p-6 text-center text-white relative overflow-hidden"
    >
        <div class="absolute top-0 right-0 p-4 opacity-10">
            <span class="material-symbols-outlined text-8xl"
                >directions_car</span
            >
        </div>
        <h4 class="font-bold text-xl mb-3 relative z-10">Butuh Kendaraan?</h4>
        <p class="text-sm text-slate-200 mb-6 relative z-10">
            Sewa mobil aman dan terpercaya di Jogja bersama SMJ Trans.
        </p>
        <a
            href="/armada"
            class="w-full bg-secondary hover:bg-yellow-600 text-white font-bold py-3 rounded-lg shadow-md transition-colors relative z-10 flex items-center justify-center gap-2"
        >
            <span class="material-symbols-outlined text-lg">calendar_month</span
            >
            Pesan Sekarang
        </a>
    </div>

    <!-- Popular Tags -->
    <div
        class="bg-white dark:bg-[#1f2937] p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700"
    >
        <h4
            class="font-bold text-lg text-slate-900 dark:text-white mb-4 border-b border-slate-100 dark:border-slate-700 pb-2"
        >
            Tag Populer
        </h4>
        <div class="flex flex-wrap gap-2">
            {
                tags.map((tag) => (
                    <a
                        href={`/blog/tag/${tag.replace("#", "").toLowerCase()}`}
                        class="text-xs font-medium px-3 py-1.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-secondary hover:text-white transition-colors"
                    >
                        {tag}
                    </a>
                ))
            }
        </div>
    </div>
</aside>
